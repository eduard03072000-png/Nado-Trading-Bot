=== КАК СОЗДАТЬ BOT TOKEN ДЛЯ NADO DEX ===

ВАЖНО: Bot Token должен создавать САМ ПОЛЬЗОВАТЕЛЬ через свой кошелёк!
Бот не может создать токен за пользователя из-за подписи.

=== СПОСОБ 1: Через Web Interface (РЕКОМЕНДУЕТСЯ) ===

1. Зайти на https://app.nado.exchange/
2. Подключить кошелёк (Metamask/WalletConnect)
3. Перейти в Settings → API Keys / Bot Tokens
4. Нажать "Create Bot Token"
5. Ввести адрес бота: 0xc4d55282Ab2dD5793820cadCD3c6e8472AF13964
6. Подписать транзакцию в кошельке
7. Готово!

=== СПОСОБ 2: Программно (для продвинутых) ===

Если пользователь хочет создать токен программно:

```python
from nado_protocol.client import create_nado_client, NadoClientMode
from nado_protocol.engine_client.types.execute import LinkSignerParams

# Создать клиент с ПРИВАТНЫМ КЛЮЧОМ ПОЛЬЗОВАТЕЛЯ (НЕ БОТА!)
client = create_nado_client(
    mode=NadoClientMode.MAINNET,
    signer="0x..." # ПРИВАТНЫЙ КЛЮЧ ПОЛЬЗОВАТЕЛЯ
)

# Subaccount ID пользователя
subaccount_id = "0xb6da54b9cd60832d33d1a401933d48dee774dcfa64656661756c740000000000"

# Адрес бота
bot_address = "0xc4d55282Ab2dD5793820cadCD3c6e8472AF13964"

# Создать токен
params = LinkSignerParams(
    sender=subaccount_id,
    signer=bot_address
)

result = client.subaccount.link_signer(params)
print(f"Bot token created! Status: {result.status.value}")
```

=== ЧТО ДЕЛАТЬ ЕСЛИ ПОЛЬЗОВАТЕЛЬ УЖЕ ЗАРЕГИСТРИРОВАЛСЯ ===

1. Пользователь регистрируется в боте (вводит Subaccount ID)
2. Бот сохраняет Subaccount ID
3. Бот отправляет пользователю инструкцию:
   
   "⚠️ ВАЖНЫЙ ШАГ!
   
   Чтобы бот мог открывать позиции, вам нужно создать Bot Token:
   
   1. Зайдите на https://app.nado.exchange/
   2. Подключите свой кошелёк
   3. Settings → API Keys → Create Bot Token
   4. Введите адрес бота: 0xc4d55282Ab2dD5793820cadCD3c6e8472AF13964
   5. Подпишите транзакцию
   
   После этого бот сможет торговать от вашего имени!"

4. Пользователь создаёт токен
5. Готово! Бот может торговать

=== АВТОМАТИЧЕСКАЯ ПРОВЕРКА ТОКЕНА ===

Добавить в бота проверку при попытке открыть позицию:

```python
try:
    result = dashboard.place_order(...)
except Exception as e:
    if "signature does not match" in str(e):
        await query.edit_message_text(
            "⚠️ Bot Token не создан!\n\n"
            "Пожалуйста, создайте Bot Token:\n"
            "1. https://app.nado.exchange/\n"
            "2. Settings → API Keys\n"
            f"3. Add Bot: {bot_address}"
        )
```

=== НОВЫЙ ПОЛЬЗОВАТЕЛЬ: 677623236 ===

Subaccount: 0xb6da54b9cd60832d33d1a401933d48dee774dcfa64656661756c740000000000

Нужно:
1. Попросить пользователя создать Bot Token вручную
2. Или добавить в бота автоматическое сообщение с инструкцией
